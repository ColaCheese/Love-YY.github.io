(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{607:function(s,t,e){"use strict";e.r(t);var a=e(26),n=Object(a.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("p",[s._v("对最近搭建个人 Blog 的一次技术总结。😋 😋")]),s._v(" "),e("h2",{attrs:{id:"简单总结一下"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#简单总结一下"}},[s._v("#")]),s._v(" 简单总结一下")]),s._v(" "),e("p",[s._v("首先还是要感谢 "),e("code",[s._v("vuepress")]),s._v(" 和 "),e("code",[s._v("vuepress-theme-reco")]),s._v(" 它们的开发维护者。不得不说 "),e("code",[s._v("vuepress")]),s._v(" 是对使用过 "),e("code",[s._v("Vue")]),s._v(" 的人来说，搭建个人 Blog 的一个非常好的选择。当然，比较流行的 "),e("code",[s._v("Hexo")]),s._v(" 我之前也没用过，不好做对比，但是 "),e("code",[s._v("vuepress")]),s._v(" 整体带给我的体验还是非常不错的。 "),e("code",[s._v("vuepress")]),s._v(" 自带默认的主题，但是它的风格更像一个技术文档，而不是一个 Blog ，然后我去知乎上搜 "),e("code",[s._v("vuepress")]),s._v(" 的好看的主题，发现了 "),e("code",[s._v("vuepress-theme-reco")]),s._v("。作者给出的文档非常详细，而且整体的界面设计也非常好看，如果直接用这个主题来修改的话，搭建个人 Blog 将会非常非常的简单方便。")]),s._v(" "),e("p",[s._v("但是，我给自己挖了一个大坑，😭我觉得 "),e("code",[s._v("vuepress-theme-reco")]),s._v(" 的 Home 页还可以再改一下，也就是现在我的 Blog 的 Home 页的样式，然后我就想用 "),e("code",[s._v("vuetify")]),s._v(" 来美化一下。选择 "),e("code",[s._v("vuetify")]),s._v(" 是因为它的文档真的非常非常非常详细，而且整体设计很合我的胃口，再加上 "),e("code",[s._v("vue")]),s._v(" 的作者力荐，所以我决定要引入 "),e("code",[s._v("vuetify")]),s._v(" 。")]),s._v(" "),e("p",[s._v("下面开始填坑。")]),s._v(" "),e("h2",{attrs:{id:"第一个坑"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第一个坑"}},[s._v("#")]),s._v(" 第一个坑")]),s._v(" "),e("p",[s._v("所以，应该如何引入 "),e("code",[s._v("vuetify")]),s._v(" 。这个不难解决，还是能搜到方法的，在 "),e("code",[s._v("vuepress")]),s._v(" 文档里面也给出了方法，通过创建 "),e("code",[s._v(".vuepress/enhanceApp.js")]),s._v(" 文件可以做一些应用级别的配置，当该文件存在的时候，会被导入到应用内部。当然，首先还是要用 "),e("code",[s._v("npm install vuetify")]),s._v(" 安装对应的 npm 包。")]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Vuetify "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vuetify'")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'../../node_modules/vuetify/dist/vuetify.min.css'")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  Vue"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// the version of Vue being used in the VuePress app")]),s._v("\n  options"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// the options for the root Vue instance")]),s._v("\n  router"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// the router instance for the app")]),s._v("\n  siteData "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// site metadata")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  Vue"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Vuetify"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("p",[s._v("如果要用到 "),e("code",[s._v("material design icons")]),s._v(" 别忘记在 "),e("code",[s._v("config.js")]),s._v(" 中添加：")]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'link'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    rel"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'stylesheet'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    href"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'https://cdn.jsdelivr.net/npm/@mdi/font@5.x/css/materialdesignicons.min.css'")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("p",[s._v("这个链接相当于在 "),e("code",[s._v("index.html")]),s._v(" 的 "),e("code",[s._v("<head>")]),s._v(" 中添加 "),e("code",[s._v("<link>")]),s._v(" 标签。所以我们就能愉快地用 "),e("code",[s._v("material design icons")]),s._v(" 了。")]),s._v(" "),e("p",[s._v("好了，坑，他来了。")]),s._v(" "),e("p",[s._v("这样引入之后， "),e("code",[s._v("vuetify")]),s._v(" 其实被作用到了全局，后面页面的样式都被 "),e("code",[s._v("vuetify")]),s._v(" 覆盖了。不过这个解决方法还是有的，把 "),e("code",[s._v("vuetify")]),s._v(" 单独的 CSS 引入放到具体的页面上来，也就是在我的 "),e("code",[s._v("MyHome.vue")]),s._v(" 中引入 CSS，因为，造成样式混乱的只有 CSS 文件。一定要在 "),e("code",[s._v("<style>")]),s._v(" 中添加 "),e("code",[s._v("scoped")]),s._v(" ，不然样式还是会被应用到全局。")]),s._v(" "),e("div",{staticClass:"language-html line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-html"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("style")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("scoped")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("src")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("../../../node_modules/vuetify/dist/vuetify.min.css"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),e("span",{pre:!0,attrs:{class:"token style"}}),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("style")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"第二个坑"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第二个坑"}},[s._v("#")]),s._v(" 第二个坑")]),s._v(" "),e("p",[s._v("可以愉快地修改页面了，修改完 Build 上传，咦，怎么和我本地运行地样式不一样？？冲浪一番发现，没有 "),e("code",[s._v("vuepress")]),s._v(" Build 样式不一样的问题，除了 stackoverflow 上倒是有个老哥有类似的问题，但是可怜的老哥一年多都没人回答。其实，倒是有很多， "),e("code",[s._v("Vue")]),s._v(" 的 Run 样式和 Build 样式不一样的问题，解决的方法无非是给 "),e("code",[s._v("<style>")]),s._v(" 标签添加 "),e("code",[s._v("scoped")]),s._v(" 、在 "),e("code",[s._v("main.js")]),s._v(" 里面调整样式的引入顺序，在 "),e("code",[s._v("vuepress")]),s._v(" 里面行不通。我尝试了好多办法，包括添加 "),e("code",[s._v("index.styl")]),s._v(" 文件，在 MarkDown 文件中添加样式、自定义页面的方式引入 "),e("code",[s._v("Vue")]),s._v(" 文件等，莫有成功。")]),s._v(" "),e("p",[s._v("其实症结在于，我在 "),e("code",[s._v("MyHome.vue")]),s._v(" 中，对之后也会用到的样式做了调整，比如有的 DOM 元素，我就不想让它显示，用选择器修改之后，后面再加载的样式覆盖了之前的样式，这一点在利用 Chrome 的控制台能看的很清楚，"),e("s",[s._v("我的修改都被")]),s._v("这样了。")]),s._v(" "),e("p",[s._v("只能，在 "),e("code",[s._v("mounted()")]),s._v(" 生命周期中操作 DOM ，选择 Class Name 来进行修改样式，就硬改，还真的有效。")]),s._v(" "),e("h2",{attrs:{id:"第三个坑"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第三个坑"}},[s._v("#")]),s._v(" 第三个坑")]),s._v(" "),e("p",[s._v("改成功了，真开心，好景不长，在我的 "),e("code",[s._v("Home")]),s._v(" 、 "),e("code",[s._v("Blog")]),s._v(" 不停的页面切换中，它又回到了起点，样式又出现了问题。😖😖")]),s._v(" "),e("p",[s._v("我首先怀疑的是 "),e("code",[s._v("mounted()")]),s._v(" 是否是在页面的切换之后没有再次执行，因为 "),e("code",[s._v("Vue")]),s._v(" 中会有这样的问题。如果用了 "),e("code",[s._v("keep-alive")]),s._v(" 的组件的时候会将状态保留在内存中，防止重复渲染DOM，我此处开了脑洞，我认为 "),e("code",[s._v("vuepress")]),s._v(" 偷偷地在我看不到的地方用了这个组件来优化显示效果。见招拆招，我就用 "),e("code",[s._v("activated()")]),s._v(" 生命周期（好像我之前还不知道有这个周期），然而，它并不运行到这个函数，我又试着监听路由变化，此处就不展开了。然后 ... ，我发现，其实，"),e("code",[s._v("mounted()")]),s._v(" 函数每次切换页面的时候都触发了，真正的问题在于 "),e("strong",[s._v("更改了某个 DOM 元素之后，而这时候我们想看到这个被改变后的 DOM 是需要 DOM 更新之后才会实现的")]),s._v("，解决办法是使用 "),e("code",[s._v("this.$nextTick()")]),s._v(" 可以等待 DOM 生成以后再来获取 DOM 对象（可以参考 "),e("a",{attrs:{href:"https://www.cnblogs.com/jin-zhe/p/9985436.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Vue.js中this.$nextTick()的使用"),e("OutboundLink")],1),s._v(" ），加上异步 "),e("code",[s._v("setTimeout()")]),s._v(" ，延迟获取 DOM 的代码的执行。像这样：")]),s._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mounted")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("$nextTick")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("setTimeout")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n            "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n            \n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("p",[s._v("看来还是要搞清楚 "),e("code",[s._v("Vue")]),s._v(" 中 DOM 的渲染过程。")])])}),[],!1,null,null,null);t.default=n.exports}}]);